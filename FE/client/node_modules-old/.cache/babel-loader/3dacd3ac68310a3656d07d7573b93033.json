{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/scroll_view/ui.scrollable.js)\r\n * Version: 21.1.4\r\n * Build date: Mon Jun 21 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport eventsEngine from \"../../events/core/events_engine\";\nimport { nativeScrolling } from \"../../core/utils/support\";\nimport browser from \"../../core/utils/browser\";\nimport { deferUpdate, deferRender, ensureDefined } from \"../../core/utils/common\";\nimport { isPlainObject, isDefined } from \"../../core/utils/type\";\nimport { extend } from \"../../core/utils/extend\";\nimport { getPublicElement } from \"../../core/element\";\nimport { getWindow, hasWindow } from \"../../core/utils/window\";\nimport domAdapter from \"../../core/dom_adapter\";\nimport devices from \"../../core/devices\";\nimport registerComponent from \"../../core/component_registrator\";\nimport DOMComponent from \"../../core/dom_component\";\nimport { focusable } from \"../widget/selectors\";\nimport { addNamespace } from \"../../events/utils/index\";\nimport scrollEvents from \"./ui.events.emitter.gesture.scroll\";\nimport { SimulatedStrategy } from \"./ui.scrollable.simulated\";\nimport NativeStrategy from \"./ui.scrollable.native\";\nimport { deviceDependentOptions } from \"./ui.scrollable.device\";\nimport { when } from \"../../core/utils/deferred\";\nvar SCROLLABLE = \"dxScrollable\";\nvar SCROLLABLE_STRATEGY = \"dxScrollableStrategy\";\nvar SCROLLABLE_CLASS = \"dx-scrollable\";\nvar SCROLLABLE_DISABLED_CLASS = \"dx-scrollable-disabled\";\nvar SCROLLABLE_CONTAINER_CLASS = \"dx-scrollable-container\";\nvar SCROLLABLE_WRAPPER_CLASS = \"dx-scrollable-wrapper\";\nvar SCROLLABLE_CONTENT_CLASS = \"dx-scrollable-content\";\nvar VERTICAL = \"vertical\";\nvar HORIZONTAL = \"horizontal\";\nvar BOTH = \"both\";\nvar Scrollable = DOMComponent.inherit({\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), {\n      disabled: false,\n      onScroll: null,\n      direction: VERTICAL,\n      showScrollbar: \"onScroll\",\n      useNative: true,\n      bounceEnabled: true,\n      scrollByContent: true,\n      scrollByThumb: false,\n      onUpdated: null,\n      onStart: null,\n      onEnd: null,\n      onBounce: null,\n      useSimulatedScrollbar: false,\n      useKeyboard: true,\n      inertiaEnabled: true,\n      updateManually: false\n    });\n  },\n  _defaultOptionsRules: function () {\n    return this.callBase().concat(deviceDependentOptions(), [{\n      device: function () {\n        return nativeScrolling && \"android\" === devices.real().platform && !browser.mozilla;\n      },\n      options: {\n        useSimulatedScrollbar: true\n      }\n    }]);\n  },\n  _initOptions: function (options) {\n    this.callBase(options);\n\n    if (!(\"useSimulatedScrollbar\" in options)) {\n      this._setUseSimulatedScrollbar();\n    }\n  },\n  _setUseSimulatedScrollbar: function () {\n    if (!this.initialOption(\"useSimulatedScrollbar\")) {\n      this.option(\"useSimulatedScrollbar\", !this.option(\"useNative\"));\n    }\n  },\n  _init: function () {\n    this.callBase();\n\n    this._initScrollableMarkup();\n\n    this._locked = false;\n  },\n  _getWindowDevicePixelRatio: function () {\n    return hasWindow() ? getWindow().devicePixelRatio : 1;\n  },\n  _visibilityChanged: function (visible) {\n    if (visible) {\n      this.update();\n\n      this._updateRtlPosition();\n\n      this._savedScrollOffset && this.scrollTo(this._savedScrollOffset);\n      delete this._savedScrollOffset;\n    } else {\n      this._savedScrollOffset = this.scrollOffset();\n    }\n  },\n  _initScrollableMarkup: function () {\n    var $element = this.$element().addClass(SCROLLABLE_CLASS);\n    var $container = this._$container = $(\"<div>\").addClass(SCROLLABLE_CONTAINER_CLASS);\n    var $wrapper = this._$wrapper = $(\"<div>\").addClass(SCROLLABLE_WRAPPER_CLASS);\n    var $content = this._$content = $(\"<div>\").addClass(SCROLLABLE_CONTENT_CLASS);\n\n    if (domAdapter.hasDocumentProperty(\"onbeforeactivate\") && browser.msie && browser.version < 12) {\n      eventsEngine.on($element, addNamespace(\"beforeactivate\", SCROLLABLE), function (e) {\n        if (!$(e.target).is(focusable)) {\n          e.preventDefault();\n        }\n      });\n    }\n\n    $content.append($element.contents()).appendTo($container);\n    $container.appendTo($wrapper);\n    $wrapper.appendTo($element);\n  },\n  _dimensionChanged: function () {\n    this.update();\n\n    this._updateRtlPosition();\n  },\n  _initMarkup: function () {\n    this.callBase();\n\n    this._renderDirection();\n  },\n  _render: function () {\n    this._renderStrategy();\n\n    this._attachEventHandlers();\n\n    this._renderDisabledState();\n\n    this._createActions();\n\n    this.update();\n    this.callBase();\n    this._rtlConfig = {\n      scrollRight: 0,\n      clientWidth: this._container().get(0).clientWidth,\n      windowPixelRatio: this._getWindowDevicePixelRatio()\n    };\n\n    this._updateRtlPosition();\n  },\n  _isHorizontalAndRtlEnabled: function () {\n    return this.option(\"rtlEnabled\") && this.option(\"direction\") !== VERTICAL;\n  },\n  _updateRtlPosition: function () {\n    this._updateBounds();\n\n    if (this._isHorizontalAndRtlEnabled()) {\n      deferUpdate(() => {\n        var scrollLeft = this._getMaxOffset().left - this._rtlConfig.scrollRight;\n\n        if (scrollLeft <= 0) {\n          scrollLeft = 0;\n          this._rtlConfig.scrollRight = this._getMaxOffset().left;\n        }\n\n        deferRender(() => {\n          if (this.scrollLeft() !== scrollLeft) {\n            this._rtlConfig.skipUpdating = true;\n            this.scrollTo({\n              left: scrollLeft\n            });\n            this._rtlConfig.skipUpdating = false;\n          }\n        });\n      });\n    }\n  },\n  _getMaxOffset: function () {\n    var {\n      scrollWidth: scrollWidth,\n      clientWidth: clientWidth,\n      scrollHeight: scrollHeight,\n      clientHeight: clientHeight\n    } = this._container().get(0);\n\n    return {\n      left: scrollWidth - clientWidth,\n      top: scrollHeight - clientHeight\n    };\n  },\n  _updateBounds: function () {\n    this._strategy.updateBounds();\n  },\n  _attachEventHandlers: function () {\n    var strategy = this._strategy;\n    var initEventData = {\n      getDirection: strategy.getDirection.bind(strategy),\n      validate: this._validate.bind(this),\n      isNative: this.option(\"useNative\"),\n      scrollTarget: this._$container\n    };\n    eventsEngine.off(this._$wrapper, \".\" + SCROLLABLE);\n    eventsEngine.on(this._$wrapper, addNamespace(scrollEvents.init, SCROLLABLE), initEventData, this._initHandler.bind(this));\n    eventsEngine.on(this._$wrapper, addNamespace(scrollEvents.start, SCROLLABLE), strategy.handleStart.bind(strategy));\n    eventsEngine.on(this._$wrapper, addNamespace(scrollEvents.move, SCROLLABLE), strategy.handleMove.bind(strategy));\n    eventsEngine.on(this._$wrapper, addNamespace(scrollEvents.end, SCROLLABLE), strategy.handleEnd.bind(strategy));\n    eventsEngine.on(this._$wrapper, addNamespace(scrollEvents.cancel, SCROLLABLE), strategy.handleCancel.bind(strategy));\n    eventsEngine.on(this._$wrapper, addNamespace(scrollEvents.stop, SCROLLABLE), strategy.handleStop.bind(strategy));\n    eventsEngine.off(this._$container, \".\" + SCROLLABLE);\n    eventsEngine.on(this._$container, addNamespace(\"scroll\", SCROLLABLE), strategy.handleScroll.bind(strategy));\n  },\n  _updateRtlConfig: function () {\n    if (this._isHorizontalAndRtlEnabled() && !this._rtlConfig.skipUpdating) {\n      var {\n        clientWidth: clientWidth,\n        scrollLeft: scrollLeft\n      } = this._container().get(0);\n\n      var windowPixelRatio = this._getWindowDevicePixelRatio();\n\n      if (this._rtlConfig.windowPixelRatio === windowPixelRatio && this._rtlConfig.clientWidth === clientWidth) {\n        this._rtlConfig.scrollRight = this._getMaxOffset().left - scrollLeft;\n      }\n\n      this._rtlConfig.clientWidth = clientWidth;\n      this._rtlConfig.windowPixelRatio = windowPixelRatio;\n    }\n  },\n  _validate: function (e) {\n    if (this._isLocked()) {\n      return false;\n    }\n\n    this._updateIfNeed();\n\n    return this._strategy.validate(e);\n  },\n  _initHandler: function () {\n    var strategy = this._strategy;\n    strategy.handleInit.apply(strategy, arguments);\n  },\n  _renderDisabledState: function () {\n    this.$element().toggleClass(SCROLLABLE_DISABLED_CLASS, this.option(\"disabled\"));\n\n    if (this.option(\"disabled\")) {\n      this._lock();\n    } else {\n      this._unlock();\n    }\n  },\n  _renderDirection: function () {\n    this.$element().removeClass(\"dx-scrollable-\" + HORIZONTAL).removeClass(\"dx-scrollable-\" + VERTICAL).removeClass(\"dx-scrollable-\" + BOTH).addClass(\"dx-scrollable-\" + this.option(\"direction\"));\n  },\n  _renderStrategy: function () {\n    this._createStrategy();\n\n    this._strategy.render();\n\n    this.$element().data(SCROLLABLE_STRATEGY, this._strategy);\n  },\n  _createStrategy: function () {\n    this._strategy = this.option(\"useNative\") ? new NativeStrategy(this) : new SimulatedStrategy(this);\n  },\n  _createActions: function () {\n    this._strategy && this._strategy.createActions();\n  },\n  _clean: function () {\n    this._strategy && this._strategy.dispose();\n  },\n  _optionChanged: function (args) {\n    switch (args.name) {\n      case \"onStart\":\n      case \"onEnd\":\n      case \"onUpdated\":\n      case \"onScroll\":\n      case \"onBounce\":\n        this._createActions();\n\n        break;\n\n      case \"direction\":\n        this._resetInactiveDirection();\n\n        this._invalidate();\n\n        break;\n\n      case \"useNative\":\n        this._setUseSimulatedScrollbar();\n\n        this._invalidate();\n\n        break;\n\n      case \"inertiaEnabled\":\n      case \"scrollByContent\":\n      case \"scrollByThumb\":\n      case \"bounceEnabled\":\n      case \"useKeyboard\":\n      case \"showScrollbar\":\n      case \"useSimulatedScrollbar\":\n        this._invalidate();\n\n        break;\n\n      case \"disabled\":\n        this._renderDisabledState();\n\n        this._strategy && this._strategy.disabledChanged();\n        break;\n\n      case \"updateManually\":\n        break;\n\n      case \"width\":\n        this.callBase(args);\n\n        this._updateRtlPosition();\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  _resetInactiveDirection: function () {\n    var inactiveProp = this._getInactiveProp();\n\n    if (!inactiveProp || !hasWindow()) {\n      return;\n    }\n\n    var scrollOffset = this.scrollOffset();\n    scrollOffset[inactiveProp] = 0;\n    this.scrollTo(scrollOffset);\n  },\n  _getInactiveProp: function () {\n    var direction = this.option(\"direction\");\n\n    if (direction === VERTICAL) {\n      return \"left\";\n    }\n\n    if (direction === HORIZONTAL) {\n      return \"top\";\n    }\n  },\n  _location: function () {\n    return this._strategy.location();\n  },\n  _normalizeLocation: function (location) {\n    if (isPlainObject(location)) {\n      var left = ensureDefined(location.left, location.x);\n      var top = ensureDefined(location.top, location.y);\n      return {\n        left: isDefined(left) ? -left : void 0,\n        top: isDefined(top) ? -top : void 0\n      };\n    } else {\n      var direction = this.option(\"direction\");\n      return {\n        left: direction !== VERTICAL ? -location : void 0,\n        top: direction !== HORIZONTAL ? -location : void 0\n      };\n    }\n  },\n  _isLocked: function () {\n    return this._locked;\n  },\n  _lock: function () {\n    this._locked = true;\n  },\n  _unlock: function () {\n    if (!this.option(\"disabled\")) {\n      this._locked = false;\n    }\n  },\n  _isDirection: function (direction) {\n    var current = this.option(\"direction\");\n\n    if (direction === VERTICAL) {\n      return current !== HORIZONTAL;\n    }\n\n    if (direction === HORIZONTAL) {\n      return current !== VERTICAL;\n    }\n\n    return current === direction;\n  },\n  _updateAllowedDirection: function () {\n    var allowedDirections = this._strategy._allowedDirections();\n\n    if (this._isDirection(BOTH) && allowedDirections.vertical && allowedDirections.horizontal) {\n      this._allowedDirectionValue = BOTH;\n    } else if (this._isDirection(HORIZONTAL) && allowedDirections.horizontal) {\n      this._allowedDirectionValue = HORIZONTAL;\n    } else if (this._isDirection(VERTICAL) && allowedDirections.vertical) {\n      this._allowedDirectionValue = VERTICAL;\n    } else {\n      this._allowedDirectionValue = null;\n    }\n  },\n  _allowedDirection: function () {\n    return this._allowedDirectionValue;\n  },\n  _container: function () {\n    return this._$container;\n  },\n  $content: function () {\n    return this._$content;\n  },\n  content: function () {\n    return getPublicElement(this._$content);\n  },\n  scrollOffset: function () {\n    return this._getScrollOffset();\n  },\n\n  _getScrollOffset() {\n    return {\n      top: -this._location().top,\n      left: -this._location().left\n    };\n  },\n\n  scrollTop: function () {\n    return this.scrollOffset().top;\n  },\n  scrollLeft: function () {\n    return this.scrollOffset().left;\n  },\n  clientHeight: function () {\n    return this._$container.height();\n  },\n  scrollHeight: function () {\n    return this.$content().outerHeight();\n  },\n  clientWidth: function () {\n    return this._$container.width();\n  },\n  scrollWidth: function () {\n    return this.$content().outerWidth();\n  },\n  update: function () {\n    if (!this._strategy) {\n      return;\n    }\n\n    return when(this._strategy.update()).done(function () {\n      this._updateAllowedDirection();\n    }.bind(this));\n  },\n  scrollBy: function (distance) {\n    distance = this._normalizeLocation(distance);\n\n    if (!distance.top && !distance.left) {\n      return;\n    }\n\n    this._updateIfNeed();\n\n    this._strategy.scrollBy(distance);\n\n    this._updateRtlConfig();\n  },\n  scrollTo: function (targetLocation) {\n    targetLocation = this._normalizeLocation(targetLocation);\n\n    this._updateIfNeed();\n\n    var location = this._location();\n\n    if (!this.option(\"useNative\")) {\n      targetLocation = this._strategy._applyScaleRatio(targetLocation);\n      location = this._strategy._applyScaleRatio(location);\n    }\n\n    var distance = this._normalizeLocation({\n      left: location.left - ensureDefined(targetLocation.left, location.left),\n      top: location.top - ensureDefined(targetLocation.top, location.top)\n    });\n\n    if (!distance.top && !distance.left) {\n      return;\n    }\n\n    this._strategy.scrollBy(distance);\n\n    this._updateRtlConfig();\n  },\n  scrollToElement: function (element, offset) {\n    var $element = $(element);\n    var elementInsideContent = this.$content().find(element).length;\n    var elementIsInsideContent = $element.parents(\".\" + SCROLLABLE_CLASS).length - $element.parents(\".\" + SCROLLABLE_CONTENT_CLASS).length === 0;\n\n    if (!elementInsideContent || !elementIsInsideContent) {\n      return;\n    }\n\n    var scrollPosition = {\n      top: 0,\n      left: 0\n    };\n    var direction = this.option(\"direction\");\n\n    if (direction !== VERTICAL) {\n      scrollPosition.left = this.getScrollElementPosition($element, HORIZONTAL, offset);\n    }\n\n    if (direction !== HORIZONTAL) {\n      scrollPosition.top = this.getScrollElementPosition($element, VERTICAL, offset);\n    }\n\n    this.scrollTo(scrollPosition);\n  },\n  scrollToElementTopLeft: function (element) {\n    var $element = $(element);\n    var elementInsideContent = this.$content().find(element).length;\n    var elementIsInsideContent = $element.parents(\".\" + SCROLLABLE_CLASS).length - $element.parents(\".\" + SCROLLABLE_CONTENT_CLASS).length === 0;\n\n    if (!elementInsideContent || !elementIsInsideContent) {\n      return;\n    }\n\n    var scrollPosition = {\n      top: 0,\n      left: 0\n    };\n    var direction = this.option(\"direction\");\n\n    if (direction !== VERTICAL) {\n      var leftPosition = this._elementPositionRelativeToContent($element, \"left\");\n\n      scrollPosition.left = true === this.option(\"rtlEnabled\") ? leftPosition + $element.width() - this.clientWidth() : leftPosition;\n    }\n\n    if (direction !== HORIZONTAL) {\n      scrollPosition.top = this._elementPositionRelativeToContent($element, \"top\");\n    }\n\n    this.scrollTo(scrollPosition);\n  },\n  getScrollElementPosition: function ($element, direction, offset) {\n    offset = offset || {};\n    var isVertical = direction === VERTICAL;\n    var startOffset = (isVertical ? offset.top : offset.left) || 0;\n    var endOffset = (isVertical ? offset.bottom : offset.right) || 0;\n\n    var elementPositionRelativeToContent = this._elementPositionRelativeToContent($element, isVertical ? \"top\" : \"left\");\n\n    var elementPosition = elementPositionRelativeToContent;\n    var elementSize = $element[isVertical ? \"outerHeight\" : \"outerWidth\"]();\n    var scrollLocation = isVertical ? this.scrollTop() : this.scrollLeft();\n\n    var clientSize = this._container().get(0)[isVertical ? \"clientHeight\" : \"clientWidth\"];\n\n    var startDistance = scrollLocation - elementPosition + startOffset;\n    var endDistance = scrollLocation - elementPosition - elementSize + clientSize - endOffset;\n\n    if (startDistance <= 0 && endDistance >= 0) {\n      return scrollLocation;\n    }\n\n    return scrollLocation - (Math.abs(startDistance) > Math.abs(endDistance) ? endDistance : startDistance);\n  },\n  _elementPositionRelativeToContent: function ($element, prop) {\n    var result = 0;\n\n    while (this._hasScrollContent($element)) {\n      result += $element.position()[prop];\n      $element = $element.offsetParent();\n    }\n\n    return result;\n  },\n  _hasScrollContent: function ($element) {\n    var $content = this.$content();\n    return $element.closest($content).length && !$element.is($content);\n  },\n  _updateIfNeed: function () {\n    if (!this.option(\"updateManually\")) {\n      this.update();\n    }\n  },\n  _useTemplates: function () {\n    return false;\n  }\n});\nregisterComponent(SCROLLABLE, Scrollable);\nexport default Scrollable;","map":{"version":3,"sources":["D:/Javascript Train/REACT/first/modal/FE/client/node_modules/devextreme/esm/ui/scroll_view/ui.scrollable.js"],"names":["$","eventsEngine","nativeScrolling","browser","deferUpdate","deferRender","ensureDefined","isPlainObject","isDefined","extend","getPublicElement","getWindow","hasWindow","domAdapter","devices","registerComponent","DOMComponent","focusable","addNamespace","scrollEvents","SimulatedStrategy","NativeStrategy","deviceDependentOptions","when","SCROLLABLE","SCROLLABLE_STRATEGY","SCROLLABLE_CLASS","SCROLLABLE_DISABLED_CLASS","SCROLLABLE_CONTAINER_CLASS","SCROLLABLE_WRAPPER_CLASS","SCROLLABLE_CONTENT_CLASS","VERTICAL","HORIZONTAL","BOTH","Scrollable","inherit","_getDefaultOptions","callBase","disabled","onScroll","direction","showScrollbar","useNative","bounceEnabled","scrollByContent","scrollByThumb","onUpdated","onStart","onEnd","onBounce","useSimulatedScrollbar","useKeyboard","inertiaEnabled","updateManually","_defaultOptionsRules","concat","device","real","platform","mozilla","options","_initOptions","_setUseSimulatedScrollbar","initialOption","option","_init","_initScrollableMarkup","_locked","_getWindowDevicePixelRatio","devicePixelRatio","_visibilityChanged","visible","update","_updateRtlPosition","_savedScrollOffset","scrollTo","scrollOffset","$element","addClass","$container","_$container","$wrapper","_$wrapper","$content","_$content","hasDocumentProperty","msie","version","on","e","target","is","preventDefault","append","contents","appendTo","_dimensionChanged","_initMarkup","_renderDirection","_render","_renderStrategy","_attachEventHandlers","_renderDisabledState","_createActions","_rtlConfig","scrollRight","clientWidth","_container","get","windowPixelRatio","_isHorizontalAndRtlEnabled","_updateBounds","scrollLeft","_getMaxOffset","left","skipUpdating","scrollWidth","scrollHeight","clientHeight","top","_strategy","updateBounds","strategy","initEventData","getDirection","bind","validate","_validate","isNative","scrollTarget","off","init","_initHandler","start","handleStart","move","handleMove","end","handleEnd","cancel","handleCancel","stop","handleStop","handleScroll","_updateRtlConfig","_isLocked","_updateIfNeed","handleInit","apply","arguments","toggleClass","_lock","_unlock","removeClass","_createStrategy","render","data","createActions","_clean","dispose","_optionChanged","args","name","_resetInactiveDirection","_invalidate","disabledChanged","inactiveProp","_getInactiveProp","_location","location","_normalizeLocation","x","y","_isDirection","current","_updateAllowedDirection","allowedDirections","_allowedDirections","vertical","horizontal","_allowedDirectionValue","_allowedDirection","content","_getScrollOffset","scrollTop","height","outerHeight","width","outerWidth","done","scrollBy","distance","targetLocation","_applyScaleRatio","scrollToElement","element","offset","elementInsideContent","find","length","elementIsInsideContent","parents","scrollPosition","getScrollElementPosition","scrollToElementTopLeft","leftPosition","_elementPositionRelativeToContent","isVertical","startOffset","endOffset","bottom","right","elementPositionRelativeToContent","elementPosition","elementSize","scrollLocation","clientSize","startDistance","endDistance","Math","abs","prop","result","_hasScrollContent","position","offsetParent","closest","_useTemplates"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/scroll_view/ui.scrollable.js)\r\n * Version: 21.1.4\r\n * Build date: Mon Jun 21 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    nativeScrolling\r\n} from \"../../core/utils/support\";\r\nimport browser from \"../../core/utils/browser\";\r\nimport {\r\n    deferUpdate,\r\n    deferRender,\r\n    ensureDefined\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isPlainObject,\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport {\r\n    getWindow,\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport devices from \"../../core/devices\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport DOMComponent from \"../../core/dom_component\";\r\nimport {\r\n    focusable\r\n} from \"../widget/selectors\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport scrollEvents from \"./ui.events.emitter.gesture.scroll\";\r\nimport {\r\n    SimulatedStrategy\r\n} from \"./ui.scrollable.simulated\";\r\nimport NativeStrategy from \"./ui.scrollable.native\";\r\nimport {\r\n    deviceDependentOptions\r\n} from \"./ui.scrollable.device\";\r\nimport {\r\n    when\r\n} from \"../../core/utils/deferred\";\r\nvar SCROLLABLE = \"dxScrollable\";\r\nvar SCROLLABLE_STRATEGY = \"dxScrollableStrategy\";\r\nvar SCROLLABLE_CLASS = \"dx-scrollable\";\r\nvar SCROLLABLE_DISABLED_CLASS = \"dx-scrollable-disabled\";\r\nvar SCROLLABLE_CONTAINER_CLASS = \"dx-scrollable-container\";\r\nvar SCROLLABLE_WRAPPER_CLASS = \"dx-scrollable-wrapper\";\r\nvar SCROLLABLE_CONTENT_CLASS = \"dx-scrollable-content\";\r\nvar VERTICAL = \"vertical\";\r\nvar HORIZONTAL = \"horizontal\";\r\nvar BOTH = \"both\";\r\nvar Scrollable = DOMComponent.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            disabled: false,\r\n            onScroll: null,\r\n            direction: VERTICAL,\r\n            showScrollbar: \"onScroll\",\r\n            useNative: true,\r\n            bounceEnabled: true,\r\n            scrollByContent: true,\r\n            scrollByThumb: false,\r\n            onUpdated: null,\r\n            onStart: null,\r\n            onEnd: null,\r\n            onBounce: null,\r\n            useSimulatedScrollbar: false,\r\n            useKeyboard: true,\r\n            inertiaEnabled: true,\r\n            updateManually: false\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat(deviceDependentOptions(), [{\r\n            device: function() {\r\n                return nativeScrolling && \"android\" === devices.real().platform && !browser.mozilla\r\n            },\r\n            options: {\r\n                useSimulatedScrollbar: true\r\n            }\r\n        }])\r\n    },\r\n    _initOptions: function(options) {\r\n        this.callBase(options);\r\n        if (!(\"useSimulatedScrollbar\" in options)) {\r\n            this._setUseSimulatedScrollbar()\r\n        }\r\n    },\r\n    _setUseSimulatedScrollbar: function() {\r\n        if (!this.initialOption(\"useSimulatedScrollbar\")) {\r\n            this.option(\"useSimulatedScrollbar\", !this.option(\"useNative\"))\r\n        }\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._initScrollableMarkup();\r\n        this._locked = false\r\n    },\r\n    _getWindowDevicePixelRatio: function() {\r\n        return hasWindow() ? getWindow().devicePixelRatio : 1\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this.update();\r\n            this._updateRtlPosition();\r\n            this._savedScrollOffset && this.scrollTo(this._savedScrollOffset);\r\n            delete this._savedScrollOffset\r\n        } else {\r\n            this._savedScrollOffset = this.scrollOffset()\r\n        }\r\n    },\r\n    _initScrollableMarkup: function() {\r\n        var $element = this.$element().addClass(SCROLLABLE_CLASS);\r\n        var $container = this._$container = $(\"<div>\").addClass(SCROLLABLE_CONTAINER_CLASS);\r\n        var $wrapper = this._$wrapper = $(\"<div>\").addClass(SCROLLABLE_WRAPPER_CLASS);\r\n        var $content = this._$content = $(\"<div>\").addClass(SCROLLABLE_CONTENT_CLASS);\r\n        if (domAdapter.hasDocumentProperty(\"onbeforeactivate\") && browser.msie && browser.version < 12) {\r\n            eventsEngine.on($element, addNamespace(\"beforeactivate\", SCROLLABLE), (function(e) {\r\n                if (!$(e.target).is(focusable)) {\r\n                    e.preventDefault()\r\n                }\r\n            }))\r\n        }\r\n        $content.append($element.contents()).appendTo($container);\r\n        $container.appendTo($wrapper);\r\n        $wrapper.appendTo($element)\r\n    },\r\n    _dimensionChanged: function() {\r\n        this.update();\r\n        this._updateRtlPosition()\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this._renderDirection()\r\n    },\r\n    _render: function() {\r\n        this._renderStrategy();\r\n        this._attachEventHandlers();\r\n        this._renderDisabledState();\r\n        this._createActions();\r\n        this.update();\r\n        this.callBase();\r\n        this._rtlConfig = {\r\n            scrollRight: 0,\r\n            clientWidth: this._container().get(0).clientWidth,\r\n            windowPixelRatio: this._getWindowDevicePixelRatio()\r\n        };\r\n        this._updateRtlPosition()\r\n    },\r\n    _isHorizontalAndRtlEnabled: function() {\r\n        return this.option(\"rtlEnabled\") && this.option(\"direction\") !== VERTICAL\r\n    },\r\n    _updateRtlPosition: function() {\r\n        this._updateBounds();\r\n        if (this._isHorizontalAndRtlEnabled()) {\r\n            deferUpdate(() => {\r\n                var scrollLeft = this._getMaxOffset().left - this._rtlConfig.scrollRight;\r\n                if (scrollLeft <= 0) {\r\n                    scrollLeft = 0;\r\n                    this._rtlConfig.scrollRight = this._getMaxOffset().left\r\n                }\r\n                deferRender(() => {\r\n                    if (this.scrollLeft() !== scrollLeft) {\r\n                        this._rtlConfig.skipUpdating = true;\r\n                        this.scrollTo({\r\n                            left: scrollLeft\r\n                        });\r\n                        this._rtlConfig.skipUpdating = false\r\n                    }\r\n                })\r\n            })\r\n        }\r\n    },\r\n    _getMaxOffset: function() {\r\n        var {\r\n            scrollWidth: scrollWidth,\r\n            clientWidth: clientWidth,\r\n            scrollHeight: scrollHeight,\r\n            clientHeight: clientHeight\r\n        } = this._container().get(0);\r\n        return {\r\n            left: scrollWidth - clientWidth,\r\n            top: scrollHeight - clientHeight\r\n        }\r\n    },\r\n    _updateBounds: function() {\r\n        this._strategy.updateBounds()\r\n    },\r\n    _attachEventHandlers: function() {\r\n        var strategy = this._strategy;\r\n        var initEventData = {\r\n            getDirection: strategy.getDirection.bind(strategy),\r\n            validate: this._validate.bind(this),\r\n            isNative: this.option(\"useNative\"),\r\n            scrollTarget: this._$container\r\n        };\r\n        eventsEngine.off(this._$wrapper, \".\" + SCROLLABLE);\r\n        eventsEngine.on(this._$wrapper, addNamespace(scrollEvents.init, SCROLLABLE), initEventData, this._initHandler.bind(this));\r\n        eventsEngine.on(this._$wrapper, addNamespace(scrollEvents.start, SCROLLABLE), strategy.handleStart.bind(strategy));\r\n        eventsEngine.on(this._$wrapper, addNamespace(scrollEvents.move, SCROLLABLE), strategy.handleMove.bind(strategy));\r\n        eventsEngine.on(this._$wrapper, addNamespace(scrollEvents.end, SCROLLABLE), strategy.handleEnd.bind(strategy));\r\n        eventsEngine.on(this._$wrapper, addNamespace(scrollEvents.cancel, SCROLLABLE), strategy.handleCancel.bind(strategy));\r\n        eventsEngine.on(this._$wrapper, addNamespace(scrollEvents.stop, SCROLLABLE), strategy.handleStop.bind(strategy));\r\n        eventsEngine.off(this._$container, \".\" + SCROLLABLE);\r\n        eventsEngine.on(this._$container, addNamespace(\"scroll\", SCROLLABLE), strategy.handleScroll.bind(strategy))\r\n    },\r\n    _updateRtlConfig: function() {\r\n        if (this._isHorizontalAndRtlEnabled() && !this._rtlConfig.skipUpdating) {\r\n            var {\r\n                clientWidth: clientWidth,\r\n                scrollLeft: scrollLeft\r\n            } = this._container().get(0);\r\n            var windowPixelRatio = this._getWindowDevicePixelRatio();\r\n            if (this._rtlConfig.windowPixelRatio === windowPixelRatio && this._rtlConfig.clientWidth === clientWidth) {\r\n                this._rtlConfig.scrollRight = this._getMaxOffset().left - scrollLeft\r\n            }\r\n            this._rtlConfig.clientWidth = clientWidth;\r\n            this._rtlConfig.windowPixelRatio = windowPixelRatio\r\n        }\r\n    },\r\n    _validate: function(e) {\r\n        if (this._isLocked()) {\r\n            return false\r\n        }\r\n        this._updateIfNeed();\r\n        return this._strategy.validate(e)\r\n    },\r\n    _initHandler: function() {\r\n        var strategy = this._strategy;\r\n        strategy.handleInit.apply(strategy, arguments)\r\n    },\r\n    _renderDisabledState: function() {\r\n        this.$element().toggleClass(SCROLLABLE_DISABLED_CLASS, this.option(\"disabled\"));\r\n        if (this.option(\"disabled\")) {\r\n            this._lock()\r\n        } else {\r\n            this._unlock()\r\n        }\r\n    },\r\n    _renderDirection: function() {\r\n        this.$element().removeClass(\"dx-scrollable-\" + HORIZONTAL).removeClass(\"dx-scrollable-\" + VERTICAL).removeClass(\"dx-scrollable-\" + BOTH).addClass(\"dx-scrollable-\" + this.option(\"direction\"))\r\n    },\r\n    _renderStrategy: function() {\r\n        this._createStrategy();\r\n        this._strategy.render();\r\n        this.$element().data(SCROLLABLE_STRATEGY, this._strategy)\r\n    },\r\n    _createStrategy: function() {\r\n        this._strategy = this.option(\"useNative\") ? new NativeStrategy(this) : new SimulatedStrategy(this)\r\n    },\r\n    _createActions: function() {\r\n        this._strategy && this._strategy.createActions()\r\n    },\r\n    _clean: function() {\r\n        this._strategy && this._strategy.dispose()\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"onStart\":\r\n            case \"onEnd\":\r\n            case \"onUpdated\":\r\n            case \"onScroll\":\r\n            case \"onBounce\":\r\n                this._createActions();\r\n                break;\r\n            case \"direction\":\r\n                this._resetInactiveDirection();\r\n                this._invalidate();\r\n                break;\r\n            case \"useNative\":\r\n                this._setUseSimulatedScrollbar();\r\n                this._invalidate();\r\n                break;\r\n            case \"inertiaEnabled\":\r\n            case \"scrollByContent\":\r\n            case \"scrollByThumb\":\r\n            case \"bounceEnabled\":\r\n            case \"useKeyboard\":\r\n            case \"showScrollbar\":\r\n            case \"useSimulatedScrollbar\":\r\n                this._invalidate();\r\n                break;\r\n            case \"disabled\":\r\n                this._renderDisabledState();\r\n                this._strategy && this._strategy.disabledChanged();\r\n                break;\r\n            case \"updateManually\":\r\n                break;\r\n            case \"width\":\r\n                this.callBase(args);\r\n                this._updateRtlPosition();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _resetInactiveDirection: function() {\r\n        var inactiveProp = this._getInactiveProp();\r\n        if (!inactiveProp || !hasWindow()) {\r\n            return\r\n        }\r\n        var scrollOffset = this.scrollOffset();\r\n        scrollOffset[inactiveProp] = 0;\r\n        this.scrollTo(scrollOffset)\r\n    },\r\n    _getInactiveProp: function() {\r\n        var direction = this.option(\"direction\");\r\n        if (direction === VERTICAL) {\r\n            return \"left\"\r\n        }\r\n        if (direction === HORIZONTAL) {\r\n            return \"top\"\r\n        }\r\n    },\r\n    _location: function() {\r\n        return this._strategy.location()\r\n    },\r\n    _normalizeLocation: function(location) {\r\n        if (isPlainObject(location)) {\r\n            var left = ensureDefined(location.left, location.x);\r\n            var top = ensureDefined(location.top, location.y);\r\n            return {\r\n                left: isDefined(left) ? -left : void 0,\r\n                top: isDefined(top) ? -top : void 0\r\n            }\r\n        } else {\r\n            var direction = this.option(\"direction\");\r\n            return {\r\n                left: direction !== VERTICAL ? -location : void 0,\r\n                top: direction !== HORIZONTAL ? -location : void 0\r\n            }\r\n        }\r\n    },\r\n    _isLocked: function() {\r\n        return this._locked\r\n    },\r\n    _lock: function() {\r\n        this._locked = true\r\n    },\r\n    _unlock: function() {\r\n        if (!this.option(\"disabled\")) {\r\n            this._locked = false\r\n        }\r\n    },\r\n    _isDirection: function(direction) {\r\n        var current = this.option(\"direction\");\r\n        if (direction === VERTICAL) {\r\n            return current !== HORIZONTAL\r\n        }\r\n        if (direction === HORIZONTAL) {\r\n            return current !== VERTICAL\r\n        }\r\n        return current === direction\r\n    },\r\n    _updateAllowedDirection: function() {\r\n        var allowedDirections = this._strategy._allowedDirections();\r\n        if (this._isDirection(BOTH) && allowedDirections.vertical && allowedDirections.horizontal) {\r\n            this._allowedDirectionValue = BOTH\r\n        } else if (this._isDirection(HORIZONTAL) && allowedDirections.horizontal) {\r\n            this._allowedDirectionValue = HORIZONTAL\r\n        } else if (this._isDirection(VERTICAL) && allowedDirections.vertical) {\r\n            this._allowedDirectionValue = VERTICAL\r\n        } else {\r\n            this._allowedDirectionValue = null\r\n        }\r\n    },\r\n    _allowedDirection: function() {\r\n        return this._allowedDirectionValue\r\n    },\r\n    _container: function() {\r\n        return this._$container\r\n    },\r\n    $content: function() {\r\n        return this._$content\r\n    },\r\n    content: function() {\r\n        return getPublicElement(this._$content)\r\n    },\r\n    scrollOffset: function() {\r\n        return this._getScrollOffset()\r\n    },\r\n    _getScrollOffset() {\r\n        return {\r\n            top: -this._location().top,\r\n            left: -this._location().left\r\n        }\r\n    },\r\n    scrollTop: function() {\r\n        return this.scrollOffset().top\r\n    },\r\n    scrollLeft: function() {\r\n        return this.scrollOffset().left\r\n    },\r\n    clientHeight: function() {\r\n        return this._$container.height()\r\n    },\r\n    scrollHeight: function() {\r\n        return this.$content().outerHeight()\r\n    },\r\n    clientWidth: function() {\r\n        return this._$container.width()\r\n    },\r\n    scrollWidth: function() {\r\n        return this.$content().outerWidth()\r\n    },\r\n    update: function() {\r\n        if (!this._strategy) {\r\n            return\r\n        }\r\n        return when(this._strategy.update()).done(function() {\r\n            this._updateAllowedDirection()\r\n        }.bind(this))\r\n    },\r\n    scrollBy: function(distance) {\r\n        distance = this._normalizeLocation(distance);\r\n        if (!distance.top && !distance.left) {\r\n            return\r\n        }\r\n        this._updateIfNeed();\r\n        this._strategy.scrollBy(distance);\r\n        this._updateRtlConfig()\r\n    },\r\n    scrollTo: function(targetLocation) {\r\n        targetLocation = this._normalizeLocation(targetLocation);\r\n        this._updateIfNeed();\r\n        var location = this._location();\r\n        if (!this.option(\"useNative\")) {\r\n            targetLocation = this._strategy._applyScaleRatio(targetLocation);\r\n            location = this._strategy._applyScaleRatio(location)\r\n        }\r\n        var distance = this._normalizeLocation({\r\n            left: location.left - ensureDefined(targetLocation.left, location.left),\r\n            top: location.top - ensureDefined(targetLocation.top, location.top)\r\n        });\r\n        if (!distance.top && !distance.left) {\r\n            return\r\n        }\r\n        this._strategy.scrollBy(distance);\r\n        this._updateRtlConfig()\r\n    },\r\n    scrollToElement: function(element, offset) {\r\n        var $element = $(element);\r\n        var elementInsideContent = this.$content().find(element).length;\r\n        var elementIsInsideContent = $element.parents(\".\" + SCROLLABLE_CLASS).length - $element.parents(\".\" + SCROLLABLE_CONTENT_CLASS).length === 0;\r\n        if (!elementInsideContent || !elementIsInsideContent) {\r\n            return\r\n        }\r\n        var scrollPosition = {\r\n            top: 0,\r\n            left: 0\r\n        };\r\n        var direction = this.option(\"direction\");\r\n        if (direction !== VERTICAL) {\r\n            scrollPosition.left = this.getScrollElementPosition($element, HORIZONTAL, offset)\r\n        }\r\n        if (direction !== HORIZONTAL) {\r\n            scrollPosition.top = this.getScrollElementPosition($element, VERTICAL, offset)\r\n        }\r\n        this.scrollTo(scrollPosition)\r\n    },\r\n    scrollToElementTopLeft: function(element) {\r\n        var $element = $(element);\r\n        var elementInsideContent = this.$content().find(element).length;\r\n        var elementIsInsideContent = $element.parents(\".\" + SCROLLABLE_CLASS).length - $element.parents(\".\" + SCROLLABLE_CONTENT_CLASS).length === 0;\r\n        if (!elementInsideContent || !elementIsInsideContent) {\r\n            return\r\n        }\r\n        var scrollPosition = {\r\n            top: 0,\r\n            left: 0\r\n        };\r\n        var direction = this.option(\"direction\");\r\n        if (direction !== VERTICAL) {\r\n            var leftPosition = this._elementPositionRelativeToContent($element, \"left\");\r\n            scrollPosition.left = true === this.option(\"rtlEnabled\") ? leftPosition + $element.width() - this.clientWidth() : leftPosition\r\n        }\r\n        if (direction !== HORIZONTAL) {\r\n            scrollPosition.top = this._elementPositionRelativeToContent($element, \"top\")\r\n        }\r\n        this.scrollTo(scrollPosition)\r\n    },\r\n    getScrollElementPosition: function($element, direction, offset) {\r\n        offset = offset || {};\r\n        var isVertical = direction === VERTICAL;\r\n        var startOffset = (isVertical ? offset.top : offset.left) || 0;\r\n        var endOffset = (isVertical ? offset.bottom : offset.right) || 0;\r\n        var elementPositionRelativeToContent = this._elementPositionRelativeToContent($element, isVertical ? \"top\" : \"left\");\r\n        var elementPosition = elementPositionRelativeToContent;\r\n        var elementSize = $element[isVertical ? \"outerHeight\" : \"outerWidth\"]();\r\n        var scrollLocation = isVertical ? this.scrollTop() : this.scrollLeft();\r\n        var clientSize = this._container().get(0)[isVertical ? \"clientHeight\" : \"clientWidth\"];\r\n        var startDistance = scrollLocation - elementPosition + startOffset;\r\n        var endDistance = scrollLocation - elementPosition - elementSize + clientSize - endOffset;\r\n        if (startDistance <= 0 && endDistance >= 0) {\r\n            return scrollLocation\r\n        }\r\n        return scrollLocation - (Math.abs(startDistance) > Math.abs(endDistance) ? endDistance : startDistance)\r\n    },\r\n    _elementPositionRelativeToContent: function($element, prop) {\r\n        var result = 0;\r\n        while (this._hasScrollContent($element)) {\r\n            result += $element.position()[prop];\r\n            $element = $element.offsetParent()\r\n        }\r\n        return result\r\n    },\r\n    _hasScrollContent: function($element) {\r\n        var $content = this.$content();\r\n        return $element.closest($content).length && !$element.is($content)\r\n    },\r\n    _updateIfNeed: function() {\r\n        if (!this.option(\"updateManually\")) {\r\n            this.update()\r\n        }\r\n    },\r\n    _useTemplates: function() {\r\n        return false\r\n    }\r\n});\r\nregisterComponent(SCROLLABLE, Scrollable);\r\nexport default Scrollable;\r\n"]},"metadata":{},"sourceType":"module"}